Weâ€™ll proceed **exactly as per your diagram** with a **Raw Hosted Repository**.

---

# ğŸ§± PHASE 6.1: CREATE RAW HOSTED REPOSITORY (NEXUS UI)

ğŸ“ **Where**: Nexus Web UI
ğŸ“ **Who**: Admin user
ğŸ“ **Goal**: Create artifact storage for build bundle (ZIP)

---

## ğŸ”¹ STEP 1: Open Nexus UI

Open browser:

```
http://<VM-IP>:8081
```

Login:

* Username: `admin`
* Password: *(from /nexus-data/admin.password)*

---

## ğŸ”¹ STEP 2: Go to Repositories

In Nexus UI:

1. Click âš™ï¸ **Settings**
2. Click **Repositories**
3. Click **Create repository**

---

## ğŸ”¹ STEP 3: Choose Repository Type

Youâ€™ll see many options.

ğŸ‘‰ Select:

```
Raw (hosted)
```

Click **Next**

---

## ğŸ”¹ STEP 4: Repository Configuration

Fill **EXACTLY** like this:

### ğŸ”¸ Repository Name

```
employee-raw-repo
```

### ğŸ”¸ Online

âœ… Checked

### ğŸ”¸ Deployment policy

```
Allow redeploy
```

### ğŸ”¸ Blob store

```
default
```

### ğŸ”¸ Strict Content Type Validation

âŒ Disable (important for ZIP)

---

## ğŸ”¹ STEP 5: Save Repository

Click **Create repository**

---

## âœ… VERIFICATION

You should now see:

```
employee-raw-repo   (raw-hosted)
```

---

# ğŸ¯ WHAT YOU JUST ACHIEVED

âœ” Nexus artifact repository created
âœ” Ready to store build bundles
âœ” Matches diagram exactly

---

# ğŸ”œ NEXT PHASE (VERY IMPORTANT)

## ğŸ§± PHASE 6.2: CREATE BUILD ARTIFACT (ZIP)

We will:

1. Build Node.js app
2. Create production ZIP bundle
3. Upload ZIP to Nexus Raw repo
---

ğŸ“ **Where**: VM
ğŸ“ **Input**: GitHub source code
ğŸ“ **Output**: `employee-app.zip` (build artifact)

---

## ğŸ”¹ STEP 1: Go to Project Root

```bash
cd ~/employee-app
```

Verify:

```bash
ls
```

You should see:

```
backend  docker-compose.yml
```

---

## ğŸ”¹ STEP 2: CREATE PRODUCTION BUILD DIRECTORY

We never zip source directly.
We create a **clean build output**.

```bash
mkdir -p build/employee-app
```

---

## ğŸ”¹ STEP 3: COPY REQUIRED FILES INTO BUILD

```bash
cp -r backend build/employee-app/
cp docker-compose.yml build/employee-app/
```

Remove unnecessary files (if any):

```bash
rm -rf build/employee-app/backend/node_modules
```

ğŸ“Œ Node modules will be installed during runtime/build.

---

## ğŸ”¹ STEP 4: CREATE ZIP ARTIFACT

```bash
cd build
zip -r employee-app-1.0.0.zip employee-app
```

Verify:

```bash
ls
```

You must see:

```
employee-app-1.0.0.zip
```

---

# âœ… BUILD ARTIFACT READY

Artifact name:

```
employee-app-1.0.0.zip
```

This is what Nexus is meant to store.

---

# ğŸ§± PHASE 6.3: UPLOAD ARTIFACT TO NEXUS (RAW REPO)

ğŸ“ **Where**: VM
ğŸ“ **Target**: Nexus Raw Hosted Repo (`employee-raw-repo`)

---

## ğŸ”¹ STEP 5: UPLOAD ZIP TO NEXUS (CLI â€“ BEST PRACTICE)

Use **curl** (industry standard).

```bash
curl -u admin:<NEXUS_PASSWORD> \
--upload-file employee-app-1.0.0.zip \
http://localhost:8081/repository/employee-raw-repo/employee-app/employee-app-1.0.0.zip
```

ğŸ“Œ Replace `<NEXUS_PASSWORD>` with actual password.

---

## ğŸ”¹ STEP 6: VERIFY IN NEXUS UI

1. Go to **Browse**
2. Select `employee-raw-repo`
3. You should see:

   ```
   employee-app/
     â””â”€â”€ employee-app-1.0.0.zip
   ```

---

# ğŸ¯ WHAT YOU ACHIEVED

âœ” Build artifact created
âœ” Artifact versioned
âœ” Uploaded to Nexus
âœ” GitHub â†’ Build â†’ Nexus completed

---
Good question ğŸ‘
Iâ€™ll show you **exactly where and how** to see the ZIP file in **Nexus UI**, step by step.

---

# âœ… HOW TO CHECK ZIP FILE IN NEXUS UI (RAW HOSTED REPO)

ğŸ“ **Where**: Browser
ğŸ“ **URL**: `http://<VM-IP>:8081`

---

## ğŸ”¹ STEP 1: Login to Nexus UI

* Username: `admin`
* Password: *(your Nexus password)*

---

## ğŸ”¹ STEP 2: Go to â€œBrowseâ€ (MOST IMPORTANT)

On the **left menu**:

ğŸ‘‰ Click **Browse**

ğŸ“Œ This is where artifacts are visible (many people miss this).

---

## ğŸ”¹ STEP 3: Select Your Raw Repository

In **Browse**, youâ€™ll see a list of repositories on the left panel.

ğŸ‘‰ Click:

```
employee-raw-repo
```

---

## ğŸ”¹ STEP 4: Navigate Folder Path

Click through folders:

```
employee-app
```

You should see:

```
employee-app-1.0.0.zip
```

---

## ğŸ”¹ STEP 5: Confirm Artifact Details

Click on `employee-app-1.0.0.zip`

On the **right side**, you should see:

* Name
* Size
* Path
* Upload date

This confirms the artifact is **successfully uploaded**.

---

## ğŸ§ª OPTIONAL: DOWNLOAD FROM NEXUS UI (TEST)

From the same screen:

* Click **Download**
* ZIP should download to your machine

ğŸ“Œ This proves Nexus is serving artifacts correctly.

---

## ğŸ”´ IF YOU DO NOT SEE THE ZIP

### 1ï¸âƒ£ Refresh browser (Ctrl + Shift + R)

### 2ï¸âƒ£ Check correct repository

Make sure:

```
employee-raw-repo
```

not another repo.

### 3ï¸âƒ£ Verify upload path

Run on VM:

```bash
curl -I http://localhost:8081/repository/employee-raw-repo/employee-app/employee-app-1.0.0.zip
```

Expected:

```
HTTP/1.1 200 OK
```

---

## âœ… FINAL CONFIRMATION CHECK

Reply with **ONE LINE ONLY**:

```
Zip visible in Nexus UI
```

Then we will move to **PHASE 7 â€“ Nginx deployment from Nexus** ğŸš€

Got it ğŸ‘  
Iâ€™ll show you **ALL correct ways** to download the ZIP from **Nexus to local**, clearly separated so you can choose what you need.

---

# âœ… METHOD 1: DOWNLOAD FROM NEXUS UI (EASIEST)

ğŸ“ **Where**: Browser (your local machine)

### Steps:
1. Open Nexus UI:
   ```
   http://<VM-IP>:8081
   ```
2. Login as `admin`
3. Click **Browse**
4. Click repository:
   ```
   employee-raw-repo
   ```
5. Open folder:
   ```
   employee-app
   ```
6. Click:
   ```
   employee-app-1.0.0.zip
   ```
7. Click **Download**

âœ” ZIP will be downloaded to your **local system (Downloads folder)**

---

# âœ… METHOD 2: DOWNLOAD USING `curl` (FROM VM OR ANY LINUX)

ğŸ“ **Where**: VM or Linux local machine

```bash
curl -u admin:<NEXUS_PASSWORD> \
-o employee-app-1.0.0.zip \
http://<VM-IP>:8081/repository/employee-raw-repo/employee-app/employee-app-1.0.0.zip
```

ğŸ“Œ Replace:
- `<VM-IP>`
- `<NEXUS_PASSWORD>`

### Verify:
```bash
ls -lh employee-app-1.0.0.zip
```

---

# âœ… METHOD 3: DOWNLOAD USING `wget`

```bash
wget --user=admin --password=<NEXUS_PASSWORD> \
http://<VM-IP>:8081/repository/employee-raw-repo/employee-app/employee-app-1.0.0.zip
```

---

# âœ… METHOD 4: DOWNLOAD TO LOCAL WINDOWS MACHINE

If your Nexus is public:

```powershell
curl -u admin:<NEXUS_PASSWORD> `
-o employee-app-1.0.0.zip `
http://<VM-IP>:8081/repository/employee-raw-repo/employee-app/employee-app-1.0.0.zip
```

---

# ğŸ§ª VERIFY ZIP CONTENT

```bash
unzip -l employee-app-1.0.0.zip
```

Expected:
```
employee-app/
â”œâ”€â”€ backend/
â”œâ”€â”€ docker-compose.yml
```

---

# ğŸ¯ WHAT THIS MEANS IN YOUR PIPELINE

âœ” Nexus is working  
âœ” Artifact is downloadable  
âœ” Ready for deployment  
âœ” Matches enterprise DevOps flow  

---

# ğŸ”œ NEXT STEP (VERY IMPORTANT)

## PHASE 7: DEPLOY USING NGINX (FROM NEXUS ZIP)

We will:
1. Download ZIP from Nexus
2. Extract it
3. Run Nginx container
4. Serve app via Nginx

---

### âœ… CONFIRM BEFORE MOVING ON

Reply with **ONE LINE ONLY**:

```
Zip downloaded successfully
```

Then we continue ğŸš€
ğŸ‘ Great, this is a **Windows PowerShellâ€“specific issue**, not Nexus or your artifact.

PowerShell **does NOT use real `curl`** â€” it aliases `curl` to **Invoke-WebRequest**, which causes this exact error.

Let me give you **100% WORKING Windows commands**.

---

# âœ… CORRECT WAY TO DOWNLOAD ZIP IN WINDOWS (POWER POWERSHELL)

## ğŸ”´ DO **NOT** USE `-u` in PowerShell

---

## âœ… METHOD 1: PowerShell Native (RECOMMENDED)

### Run this **exact command**:

```powershell
$pair = "admin:Nubeera@2025"
$bytes = [System.Text.Encoding]::ASCII.GetBytes($pair)
$base64 = [Convert]::ToBase64String($bytes)

Invoke-WebRequest `
  -Uri "http://20.54.74.56:8081/repository/employee-raw-repo/employee-app/employee-app-1.0.0.zip" `
  -Headers @{ Authorization = "Basic $base64" } `
  -OutFile "employee-app-1.0.0.zip"
```

âœ” This **will work 100%** in PowerShell.

---

## âœ… METHOD 2: Use `curl.exe` (ALSO EASY)

Windows has **real curl** as `curl.exe`.

```powershell
curl.exe -u admin:Nubeera@2025 `
  -o employee-app-1.0.0.zip `
  http://20.54.74.56:8081/repository/employee-raw-repo/employee-app/employee-app-1.0.0.zip
```

ğŸ“Œ **Important**: Use `curl.exe`, not `curl`.

---

## âœ… VERIFY DOWNLOAD

```powershell
dir employee-app-1.0.0.zip
```

---

## ğŸ§ª TEST ZIP CONTENT

```powershell
tar -tf employee-app-1.0.0.zip
```

(or unzip via Explorer)

---

## ğŸ¯ WHY YOUR COMMAND FAILED (FOR UNDERSTANDING)

| Issue     | Reason                     |
| --------- | -------------------------- |
| `curl`    | Alias to Invoke-WebRequest |
| `-u`      | Ambiguous parameter        |
| Backticks | OK, but alias broke it     |

---

## ğŸ” SECURITY NOTE (IMPORTANT)

You exposed your Nexus password in chat.
ğŸ‘‰ **Change Nexus admin password after this**.

---

## âœ… FINAL CONFIRMATION

Reply with **ONE LINE ONLY**:

```
Zip downloaded successfully on Windows
```

Then we move to **PHASE 7 â€“ Nginx deployment from Nexus** ğŸš€

# ğŸ”œ NEXT PHASE (FINAL DEPLOYMENT)

## ğŸ§± PHASE 7: DEPLOY FROM NEXUS USING NGINX

We will:

1. Pull ZIP from Nexus
2. Extract it
3. Serve via **Nginx container**
4. Access app through Nginx

This completes your **full diagram pipeline**.

