
# ğŸ“¦ Nexus Repository Manager â€“ Docker Installation Guide

## Project: APT-DevOps Pipeline

## Component: Nexus Repository Manager (Artifact Repository)

---

## ğŸ“Œ Objective

Install and run **Sonatype Nexus Repository Manager OSS** using **Docker** in a **separate container**, with persistent storage, to be used as an **artifact repository** in the DevOps pipeline:

```
GitHub â†’ Build â†’ Nexus â†’ Nginx â†’ End Users
```

This Nexus instance will later store **build artifacts (ZIP files)** using a **Raw Hosted Repository**.

---

## ğŸ§± Architecture Overview

```
VM (Docker Host)
â”‚
â”œâ”€â”€ employee-app (Node.js + PostgreSQL)
â”‚
â””â”€â”€ nexus
    â””â”€â”€ Nexus Repository Manager (Docker Container)
```

* Nexus runs in an **isolated container**
* Persistent data stored using **Docker volumes**
* Accessible via **Web UI (port 8081)**

---

## ğŸ”§ Prerequisites

Ensure the following are installed on the VM:

```bash
docker --version
docker-compose --version
```

If not installed, install Docker & Docker Compose before proceeding.

---

## ğŸ“ Directory Structure

```
~/nubeera/nexus/
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md
```

---

## ğŸš€ Step 1: Create Nexus Directory

ğŸ“ **Location:** VM

```bash
cd ~/nubeera
mkdir nexus
cd nexus
```

---

## ğŸš€ Step 2: Create Docker Compose File

ğŸ“„ **File:** `docker-compose.yml`

```yaml
version: "3.8"

services:
  nexus:
    image: sonatype/nexus3:latest
    container_name: nexus
    ports:
      - "8081:8081"
    volumes:
      - nexus-data:/nexus-data
    restart: always

volumes:
  nexus-data:
```

### ğŸ” Explanation

| Component         | Purpose                  |
| ----------------- | ------------------------ |
| `sonatype/nexus3` | Official Nexus OSS image |
| `8081`            | Nexus Web UI             |
| `nexus-data`      | Persistent storage       |
| `restart: always` | Auto-restart on failure  |

---

## ğŸš€ Step 3: Start Nexus Container

```bash
docker-compose up -d
```

---

## âœ… Step 4: Verify Nexus Container

```bash
docker ps
```

Expected output:

```
nexus   sonatype/nexus3   Up
```

---

## ğŸŒ Step 5: Access Nexus Web UI

Open browser and navigate to:

```
http://<VM-IP>:8081
```

â³ **Note:**
First startup may take **2â€“3 minutes**.
Refresh the page if required.

---

## ğŸ” Step 6: Get Initial Admin Password

ğŸ“ **Run on VM**

```bash
docker exec -it nexus cat /nexus-data/admin.password
```

Copy the generated password.

---

## ğŸ”‘ Step 7: Login to Nexus

* **Username:** `admin`
* **Password:** (from previous step)

Follow the setup wizard:

1. Change admin password
2. Enable **Anonymous Access** (recommended for training)

---

## âœ… Nexus Installation Completed

You now have:

* âœ” Nexus running in Docker
* âœ” Persistent data storage
* âœ” Secure admin access
* âœ” Ready for artifact repositories

---

## ğŸ§  Common Issues & Fixes

### âŒ Nexus UI not opening

* Wait 2â€“3 minutes
* Check logs:

  ```bash
  docker logs nexus
  ```

### âŒ Forgot admin password

* Re-run:

  ```bash
  docker exec -it nexus cat /nexus-data/admin.password
  ```

### âŒ Port conflict (8081 already used)

* Change port in `docker-compose.yml`:

  ```yaml
  ports:
    - "8082:8081"
  ```

---

## ğŸ”œ Next Steps (Pipeline Continuation)

As per the DevOps architecture, the next steps will be:

1. Create **Raw Hosted Repository**
2. Build Node.js application bundle (ZIP)
3. Upload artifact to Nexus
4. Download artifact from Nexus
5. Deploy using **Nginx container**
6. Security testing using **Burp Suite**